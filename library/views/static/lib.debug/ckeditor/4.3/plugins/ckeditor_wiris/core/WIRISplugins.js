function $bind(o,m){var f=function(){return f.method.apply(f.scope,arguments)};return f.scope=o,f.method=m,f}var $hxClasses=$hxClasses||{},$estr=function(){return js.Boot.__string_rec(this,"")},Hash=$hxClasses.Hash=function(){this.h={}};Hash.__name__=["Hash"],Hash.prototype={toString:function(){var s=new StringBuf;s.b+=Std.string("{");for(var it=this.keys();it.hasNext();){var i=it.next();s.b+=Std.string(i),s.b+=Std.string(" => "),s.b+=Std.string(Std.string(this.get(i))),it.hasNext()&&(s.b+=Std.string(", "))}return s.b+=Std.string("}"),s.b},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var i=this.it.next();return this.ref["$"+i]}}},keys:function(){var a=[];for(var key in this.h)this.h.hasOwnProperty(key)&&a.push(key.substr(1));return HxOverrides.iter(a)},remove:function(key){return key="$"+key,this.h.hasOwnProperty(key)?(delete this.h[key],!0):!1},exists:function(key){return this.h.hasOwnProperty("$"+key)},get:function(key){return this.h["$"+key]},set:function(key,value){this.h["$"+key]=value},h:null,__class__:Hash};var HxOverrides=$hxClasses.HxOverrides=function(){};HxOverrides.__name__=["HxOverrides"],HxOverrides.dateStr=function(date){var m=date.getMonth()+1,d=date.getDate(),h=date.getHours(),mi=date.getMinutes(),s=date.getSeconds();return date.getFullYear()+"-"+(10>m?"0"+m:""+m)+"-"+(10>d?"0"+d:""+d)+" "+(10>h?"0"+h:""+h)+":"+(10>mi?"0"+mi:""+mi)+":"+(10>s?"0"+s:""+s)},HxOverrides.strDate=function(s){switch(s.length){case 8:var k=s.split(":"),d=new Date;return d.setTime(0),d.setUTCHours(k[0]),d.setUTCMinutes(k[1]),d.setUTCSeconds(k[2]),d;case 10:var k=s.split("-");return new Date(k[0],k[1]-1,k[2],0,0,0);case 19:var k=s.split(" "),y=k[0].split("-"),t=k[1].split(":");return new Date(y[0],y[1]-1,y[2],t[0],t[1],t[2]);default:throw"Invalid date format : "+s}},HxOverrides.cca=function(s,index){var x=s.charCodeAt(index);return x!=x?void 0:x},HxOverrides.substr=function(s,pos,len){return null!=pos&&0!=pos&&null!=len&&0>len?"":(null==len&&(len=s.length),0>pos?(pos=s.length+pos,0>pos&&(pos=0)):0>len&&(len=s.length+len-pos),s.substr(pos,len))},HxOverrides.remove=function(a,obj){for(var i=0,l=a.length;l>i;){if(a[i]==obj)return a.splice(i,1),!0;i++}return!1},HxOverrides.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var IntHash=$hxClasses.IntHash=function(){this.h={}};IntHash.__name__=["IntHash"],IntHash.prototype={toString:function(){var s=new StringBuf;s.b+=Std.string("{");for(var it=this.keys();it.hasNext();){var i=it.next();s.b+=Std.string(i),s.b+=Std.string(" => "),s.b+=Std.string(Std.string(this.get(i))),it.hasNext()&&(s.b+=Std.string(", "))}return s.b+=Std.string("}"),s.b},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var i=this.it.next();return this.ref[i]}}},keys:function(){var a=[];for(var key in this.h)this.h.hasOwnProperty(key)&&a.push(0|key);return HxOverrides.iter(a)},remove:function(key){return this.h.hasOwnProperty(key)?(delete this.h[key],!0):!1},exists:function(key){return this.h.hasOwnProperty(key)},get:function(key){return this.h[key]},set:function(key,value){this.h[key]=value},h:null,__class__:IntHash};var IntIter=$hxClasses.IntIter=function(min,max){this.min=min,this.max=max};IntIter.__name__=["IntIter"],IntIter.prototype={next:function(){return this.min++},hasNext:function(){return this.min<this.max},max:null,min:null,__class__:IntIter};var List=$hxClasses.List=function(){this.length=0};List.__name__=["List"],List.prototype={map:function(f){for(var b=new List,l=this.h;null!=l;){var v=l[0];l=l[1],b.add(f(v))}return b},filter:function(f){for(var l2=new List,l=this.h;null!=l;){var v=l[0];l=l[1],f(v)&&l2.add(v)}return l2},join:function(sep){for(var s=new StringBuf,first=!0,l=this.h;null!=l;)first?first=!1:s.b+=Std.string(sep),s.b+=Std.string(l[0]),l=l[1];return s.b},toString:function(){var s=new StringBuf,first=!0,l=this.h;for(s.b+=Std.string("{");null!=l;)first?first=!1:s.b+=Std.string(", "),s.b+=Std.string(Std.string(l[0])),l=l[1];return s.b+=Std.string("}"),s.b},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var x=this.h[0];return this.h=this.h[1],x}}},remove:function(v){for(var prev=null,l=this.h;null!=l;){if(l[0]==v)return null==prev?this.h=l[1]:prev[1]=l[1],this.q==l&&(this.q=prev),this.length--,!0;prev=l,l=l[1]}return!1},clear:function(){this.h=null,this.q=null,this.length=0},isEmpty:function(){return null==this.h},pop:function(){if(null==this.h)return null;var x=this.h[0];return this.h=this.h[1],null==this.h&&(this.q=null),this.length--,x},last:function(){return null==this.q?null:this.q[0]},first:function(){return null==this.h?null:this.h[0]},push:function(item){var x=[item,this.h];this.h=x,null==this.q&&(this.q=x),this.length++},add:function(item){var x=[item];null==this.h?this.h=x:this.q[1]=x,this.q=x,this.length++},length:null,q:null,h:null,__class__:List};var Reflect=$hxClasses.Reflect=function(){};Reflect.__name__=["Reflect"],Reflect.hasField=function(o,field){return Object.prototype.hasOwnProperty.call(o,field)},Reflect.field=function(o,field){var v=null;try{v=o[field]}catch(e){}return v},Reflect.setField=function(o,field,value){o[field]=value},Reflect.getProperty=function(o,field){var tmp;return null==o?null:o.__properties__&&(tmp=o.__properties__["get_"+field])?o[tmp]():o[field]},Reflect.setProperty=function(o,field,value){var tmp;o.__properties__&&(tmp=o.__properties__["set_"+field])?o[tmp](value):o[field]=value},Reflect.callMethod=function(o,func,args){return func.apply(o,args)},Reflect.fields=function(o){var a=[];if(null!=o){var hasOwnProperty=Object.prototype.hasOwnProperty;for(var f in o)hasOwnProperty.call(o,f)&&a.push(f)}return a},Reflect.isFunction=function(f){return"function"==typeof f&&!(f.__name__||f.__ename__)},Reflect.compare=function(a,b){return a==b?0:a>b?1:-1},Reflect.compareMethods=function(f1,f2){return f1==f2?!0:Reflect.isFunction(f1)&&Reflect.isFunction(f2)?f1.scope==f2.scope&&f1.method==f2.method&&null!=f1.method:!1},Reflect.isObject=function(v){if(null==v)return!1;var t=typeof v;return"string"==t||"object"==t&&!v.__enum__||"function"==t&&(v.__name__||v.__ename__)},Reflect.deleteField=function(o,f){return Reflect.hasField(o,f)?(delete o[f],!0):!1},Reflect.copy=function(o){for(var o2={},_g=0,_g1=Reflect.fields(o);_g<_g1.length;){var f=_g1[_g];++_g,o2[f]=Reflect.field(o,f)}return o2},Reflect.makeVarArgs=function(f){return function(){var a=Array.prototype.slice.call(arguments);return f(a)}};var Std=$hxClasses.Std=function(){};Std.__name__=["Std"],Std.is=function(v,t){return js.Boot.__instanceof(v,t)},Std.string=function(s){return js.Boot.__string_rec(s,"")},Std["int"]=function(x){return 0|x},Std.parseInt=function(x){var v=parseInt(x,10);return 0!=v||120!=HxOverrides.cca(x,1)&&88!=HxOverrides.cca(x,1)||(v=parseInt(x)),isNaN(v)?null:v},Std.parseFloat=function(x){return parseFloat(x)},Std.random=function(x){return Math.floor(Math.random()*x)};var StringBuf=$hxClasses.StringBuf=function(){this.b=""};StringBuf.__name__=["StringBuf"],StringBuf.prototype={toString:function(){return this.b},addSub:function(s,pos,len){this.b+=HxOverrides.substr(s,pos,len)},addChar:function(c){this.b+=String.fromCharCode(c)},add:function(x){this.b+=Std.string(x)},b:null,__class__:StringBuf};var StringTools=$hxClasses.StringTools=function(){};StringTools.__name__=["StringTools"],StringTools.urlEncode=function(s){return encodeURIComponent(s)},StringTools.urlDecode=function(s){return decodeURIComponent(s.split("+").join(" "))},StringTools.htmlEscape=function(s){return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},StringTools.htmlUnescape=function(s){return s.split("&gt;").join(">").split("&lt;").join("<").split("&amp;").join("&")},StringTools.startsWith=function(s,start){return s.length>=start.length&&HxOverrides.substr(s,0,start.length)==start},StringTools.endsWith=function(s,end){var elen=end.length,slen=s.length;return slen>=elen&&HxOverrides.substr(s,slen-elen,elen)==end},StringTools.isSpace=function(s,pos){var c=HxOverrides.cca(s,pos);return c>=9&&13>=c||32==c},StringTools.ltrim=function(s){for(var l=s.length,r=0;l>r&&StringTools.isSpace(s,r);)r++;return r>0?HxOverrides.substr(s,r,l-r):s},StringTools.rtrim=function(s){for(var l=s.length,r=0;l>r&&StringTools.isSpace(s,l-r-1);)r++;return r>0?HxOverrides.substr(s,0,l-r):s},StringTools.trim=function(s){return StringTools.ltrim(StringTools.rtrim(s))},StringTools.rpad=function(s,c,l){for(var sl=s.length,cl=c.length;l>sl;)cl>l-sl?(s+=HxOverrides.substr(c,0,l-sl),sl=l):(s+=c,sl+=cl);return s},StringTools.lpad=function(s,c,l){var ns="",sl=s.length;if(sl>=l)return s;for(var cl=c.length;l>sl;)cl>l-sl?(ns+=HxOverrides.substr(c,0,l-sl),sl=l):(ns+=c,sl+=cl);return ns+s},StringTools.replace=function(s,sub,by){return s.split(sub).join(by)},StringTools.hex=function(n,digits){var s="",hexChars="0123456789ABCDEF";do s=hexChars.charAt(15&n)+s,n>>>=4;while(n>0);if(null!=digits)for(;s.length<digits;)s="0"+s;return s},StringTools.fastCodeAt=function(s,index){return s.charCodeAt(index)},StringTools.isEOF=function(c){return c!=c};var ValueType=$hxClasses.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};ValueType.TNull=["TNull",0],ValueType.TNull.toString=$estr,ValueType.TNull.__enum__=ValueType,ValueType.TInt=["TInt",1],ValueType.TInt.toString=$estr,ValueType.TInt.__enum__=ValueType,ValueType.TFloat=["TFloat",2],ValueType.TFloat.toString=$estr,ValueType.TFloat.__enum__=ValueType,ValueType.TBool=["TBool",3],ValueType.TBool.toString=$estr,ValueType.TBool.__enum__=ValueType,ValueType.TObject=["TObject",4],ValueType.TObject.toString=$estr,ValueType.TObject.__enum__=ValueType,ValueType.TFunction=["TFunction",5],ValueType.TFunction.toString=$estr,ValueType.TFunction.__enum__=ValueType,ValueType.TClass=function(c){var $x=["TClass",6,c];return $x.__enum__=ValueType,$x.toString=$estr,$x},ValueType.TEnum=function(e){var $x=["TEnum",7,e];return $x.__enum__=ValueType,$x.toString=$estr,$x},ValueType.TUnknown=["TUnknown",8],ValueType.TUnknown.toString=$estr,ValueType.TUnknown.__enum__=ValueType;var Type=$hxClasses.Type=function(){};Type.__name__=["Type"],Type.getClass=function(o){return null==o?null:o.__class__},Type.getEnum=function(o){return null==o?null:o.__enum__},Type.getSuperClass=function(c){return c.__super__},Type.getClassName=function(c){var a=c.__name__;return a.join(".")},Type.getEnumName=function(e){var a=e.__ename__;return a.join(".")},Type.resolveClass=function(name){var cl=$hxClasses[name];return null!=cl&&cl.__name__?cl:null},Type.resolveEnum=function(name){var e=$hxClasses[name];return null!=e&&e.__ename__?e:null},Type.createInstance=function(cl,args){switch(args.length){case 0:return new cl;case 1:return new cl(args[0]);case 2:return new cl(args[0],args[1]);case 3:return new cl(args[0],args[1],args[2]);case 4:return new cl(args[0],args[1],args[2],args[3]);case 5:return new cl(args[0],args[1],args[2],args[3],args[4]);case 6:return new cl(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);case 8:return new cl(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);default:throw"Too many arguments"}return null},Type.createEmptyInstance=function(cl){function empty(){}return empty.prototype=cl.prototype,new empty},Type.createEnum=function(e,constr,params){var f=Reflect.field(e,constr);if(null==f)throw"No such constructor "+constr;if(Reflect.isFunction(f)){if(null==params)throw"Constructor "+constr+" need parameters";return f.apply(e,params)}if(null!=params&&0!=params.length)throw"Constructor "+constr+" does not need parameters";return f},Type.createEnumIndex=function(e,index,params){var c=e.__constructs__[index];if(null==c)throw index+" is not a valid enum constructor index";return Type.createEnum(e,c,params)},Type.getInstanceFields=function(c){var a=[];for(var i in c.prototype)a.push(i);return HxOverrides.remove(a,"__class__"),HxOverrides.remove(a,"__properties__"),a},Type.getClassFields=function(c){var a=Reflect.fields(c);return HxOverrides.remove(a,"__name__"),HxOverrides.remove(a,"__interfaces__"),HxOverrides.remove(a,"__properties__"),HxOverrides.remove(a,"__super__"),HxOverrides.remove(a,"prototype"),a},Type.getEnumConstructs=function(e){var a=e.__constructs__;return a.slice()},Type["typeof"]=function(v){switch(typeof v){case"boolean":return ValueType.TBool;case"string":return ValueType.TClass(String);case"number":return Math.ceil(v)==v%2147483648?ValueType.TInt:ValueType.TFloat;case"object":if(null==v)return ValueType.TNull;var e=v.__enum__;if(null!=e)return ValueType.TEnum(e);var c=v.__class__;return null!=c?ValueType.TClass(c):ValueType.TObject;case"function":return v.__name__||v.__ename__?ValueType.TObject:ValueType.TFunction;case"undefined":return ValueType.TNull;default:return ValueType.TUnknown}},Type.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var _g1=2,_g=a.length;_g>_g1;){var i=_g1++;if(!Type.enumEq(a[i],b[i]))return!1}var e=a.__enum__;if(e!=b.__enum__||null==e)return!1}catch(e){return!1}return!0},Type.enumConstructor=function(e){return e[0]},Type.enumParameters=function(e){return e.slice(2)},Type.enumIndex=function(e){return e[1]},Type.allEnums=function(e){for(var all=[],cst=e.__constructs__,_g=0;_g<cst.length;){var c=cst[_g];++_g;var v=Reflect.field(e,c);Reflect.isFunction(v)||all.push(v)}return all};var com=com||{};com.wiris||(com.wiris={}),com.wiris.plugin||(com.wiris.plugin={}),com.wiris.plugin.viewer||(com.wiris.plugin.viewer={}),com.wiris.plugin.viewer.EditorViewer=$hxClasses["com.wiris.plugin.viewer.EditorViewer"]=function(){this.params=new Hash,this.mode=com.wiris.plugin.viewer.EditorViewer.USE_CREATE_IMAGE,this.zoom=1,this.viewer="",this.lang="inherit",this.extension="php",this.localpath="/../integration",this.absoluteURL="",this.extension.indexOf("@")>=0&&(this.extension=""),this.localpath.indexOf("@")>=0&&(this.localpath="/app"),this.absoluteURL.indexOf("@")>=0&&(this.absoluteURL="/java-java-context-root")},com.wiris.plugin.viewer.EditorViewer.__name__=["com","wiris","plugin","viewer","EditorViewer"],com.wiris.plugin.viewer.EditorViewer.main=function(){var ev;ev=new com.wiris.plugin.viewer.EditorViewer,haxe.Timer.delay($bind(ev,ev.tryReady),100)},com.wiris.plugin.viewer.EditorViewer.prototype={queryToParams:function(query){for(var ss=query.split("&"),h=new Hash,_g=0;_g<ss.length;){var s=ss[_g];++_g;var kv=s.split("=");kv.length>1&&h.set(kv[0],StringTools.urlDecode(kv[1]))}return h},callCreateImage:function(mml,img){var con,data,url,height=0,width=0,baseline=0,text=null;con=new js.XMLHttpRequest,url=this.baseURL+this.localpath+"/createimage"+this.extension,data="accessible=true&metrics=true&centerbaseline=false&mml="+StringTools.urlEncode(mml),data+="&lang="+this.lang,1!=this.zoom&&(data+="&zoom="+this.zoom),data.length<2e3?(con.open("GET",url+"?"+data,!1),con.send(null)):(con.open("POST",url,!1),con.setRequestHeader("Content-type","application/x-www-form-urlencoded"),con.send(data));var s=con.responseText,i=s.indexOf("?");if(i>=0){var h=this.queryToParams(HxOverrides.substr(s,i+1,null));com.wiris.plugin.viewer.EditorViewer.DEBUG&&haxe.Log.trace(h.get("formula"),{fileName:"EditorViewer.hx",lineNumber:274,className:"com.wiris.plugin.viewer.EditorViewer",methodName:"callCreateImage"}),baseline=Std.parseInt(h.get("cb"))/this.zoom|0,height=Std.parseInt(h.get("ch"))/this.zoom|0,width=Std.parseInt(h.get("cw"))/this.zoom|0,text=h.get("text")}img.src=con.responseText,height>0&&(com.wiris.plugin.viewer.EditorViewer.DEBUG&&haxe.Log.trace(height-baseline,{fileName:"EditorViewer.hx",lineNumber:282,className:"com.wiris.plugin.viewer.EditorViewer",methodName:"callCreateImage"}),img.style.verticalAlign="-"+(height-baseline)+"px",img.style.height=""+height+"px",img.style.width=""+width+"px"),img.setAttribute("data-mathml",mml),null!=text&&(img.alt=text)},processMathML:function(mml,container){com.wiris.plugin.viewer.EditorViewer.DEBUG&&haxe.Log.trace(mml,{fileName:"EditorViewer.hx",lineNumber:233,className:"com.wiris.plugin.viewer.EditorViewer",methodName:"processMathML"});var img=js.Lib.document.createElement("img");this.mode==com.wiris.plugin.viewer.EditorViewer.USE_CREATE_IMAGE?this.callCreateImage(mml,img):img.src=this.baseURL+this.localpath+"/showimage"+this.extension+"?mml="+StringTools.urlEncode(mml),container.appendChild(img)},getMathML_IE7:function(mathNode0){for(var mathml="",mathNode=mathNode0;null!=mathNode&&"/MATH"!=mathNode.nodeName;){if(3==mathNode.nodeType)mathml+=mathNode.nodeValue;else{var nodeName=mathNode.nodeName.toLowerCase();if("/"==nodeName.charAt(0))mathml+="</"+HxOverrides.substr(nodeName,1,null)+">";else{mathml+="<"+nodeName;for(var attributes=mathNode.attributes,i=0;i<attributes.length;){var attribute=attributes[i];""!=attribute.nodeValue&&null!=attribute.nodeValue&&"inherit"!=attribute.nodeValue&&(mathml+=" "+attribute.nodeName+'="'+attribute.nodeValue+'"'),++i}for(var counter=1,nextMathNode=mathNode.nextSibling;null!=nextMathNode&&counter>0;){var nextNodeName=nextMathNode.nodeName.toLowerCase();nextNodeName==nodeName?++counter:nextNodeName=="/"+nodeName&&--counter,nextMathNode=nextMathNode.nextSibling}counter>0&&(mathml+="/"),mathml+=">"}}var nextMathNode=mathNode.nextSibling;mathNode!=mathNode0&&mathNode.parentNode.removeChild(mathNode),mathNode=nextMathNode}return"/MATH"==mathNode.nodeName&&mathNode.parentNode.removeChild(mathNode),mathml+="</math>"},replaceNodes:function(mathNodes,n){if(!(n>=mathNodes.length)){var mathNode=mathNodes[n],mathml=null,browser=new com.wiris.plugin.viewer.JsBrowser;"Explorer"!=browser.getBrowser()||"6"!=browser.getVersion()&&"7"!=browser.getVersion()||-1!=navigator.appVersion.indexOf("Trident")||(com.wiris.plugin.viewer.EditorViewer.DEBUG&&haxe.Log.trace("Is ie7",{fileName:"EditorViewer.hx",lineNumber:132,className:"com.wiris.plugin.viewer.EditorViewer",methodName:"replaceNodes"}),mathml=this.getMathML_IE7(mathNode));var container=js.Lib.document.createElement("span");mathNode.parentNode.replaceChild(container,mathNode),null==mathml&&(container.appendChild(mathNode),mathml=container.innerHTML,container.removeChild(mathNode));var index=mathml.indexOf("<math");mathml=HxOverrides.substr(mathml,index,mathml.length-index),this.processMathML(mathml,container);var self=this;haxe.Timer.delay(function(){self.replaceNodes(mathNodes,n+1)},1)}},doTransform:function(){for(var mathNodes=js.Lib.document.getElementsByTagName("math"),arr=new Array,_g1=0,_g=mathNodes.length;_g>_g1;){var x=_g1++;arr.push(mathNodes[x])}this.replaceNodes(arr,0)},doLoad:function(){com.wiris.plugin.viewer.EditorViewer.DEBUG&&haxe.Log.trace("doLoad",{fileName:"EditorViewer.hx",lineNumber:61,className:"com.wiris.plugin.viewer.EditorViewer",methodName:"doLoad"}),this.scriptName="WIRISplugins.js";var col;col=js.Lib.document.getElementsByTagName("script");for(var _g1=0,_g=col.length;_g>_g1;){var d,src,i=_g1++;d=col[i],src=d.src;var j=src.lastIndexOf(this.scriptName);if(j>=0){this.baseURL=HxOverrides.substr(src,0,j-1);var k=src.indexOf("?",j);if(k>=0){var query=HxOverrides.substr(src,k+1,null);this.params=this.queryToParams(query)}com.wiris.plugin.viewer.EditorViewer.DEBUG&&haxe.Log.trace(this.baseURL,{fileName:"EditorViewer.hx",lineNumber:80,className:"com.wiris.plugin.viewer.EditorViewer",methodName:"doLoad"})}}this.baseURL=this.absoluteURL.length>0?this.absoluteURL:"/pluginwiris_engine",this.params.exists("viewer")&&(this.viewer=this.params.get("viewer")),this.params.exists("zoom")&&(this.zoom=Std.parseFloat(this.params.get("zoom"))),this.params.exists("dpi")&&(this.zoom*=Std.parseFloat(this.params.get("dpi"))/96),this.params.exists("lang")&&(this.lang=this.params.get("lang")),"inherit"==this.lang&&(this.lang=js.Lib.document.getElementsByTagName("html")[0].lang),"image"==this.viewer&&this.doTransform(),com.wiris.plugin.viewer.EditorViewer.DEBUG&&haxe.Log.trace("Language:"+this.lang,{fileName:"EditorViewer.hx",lineNumber:106,className:"com.wiris.plugin.viewer.EditorViewer",methodName:"doLoad"})},tryReady:function(){var done;done=!1,js.Lib.document.readyState&&(this.doLoad(),done=!0),done||haxe.Timer.delay($bind(this,this.tryReady),100)},lang:null,viewer:null,zoom:null,absoluteURL:null,localpath:null,extension:null,mode:null,params:null,scriptName:null,baseURL:null,__class__:com.wiris.plugin.viewer.EditorViewer},com.wiris.plugin.viewer.JsBrowserData=$hxClasses["com.wiris.plugin.viewer.JsBrowserData"]=function(){},com.wiris.plugin.viewer.JsBrowserData.__name__=["com","wiris","plugin","viewer","JsBrowserData"],com.wiris.plugin.viewer.JsBrowserData.prototype={identity:null,versionSearch:null,subString:null,prop:null,string:null,__class__:com.wiris.plugin.viewer.JsBrowserData},com.wiris.plugin.viewer.JsOSData=$hxClasses["com.wiris.plugin.viewer.JsOSData"]=function(){},com.wiris.plugin.viewer.JsOSData.__name__=["com","wiris","plugin","viewer","JsOSData"],com.wiris.plugin.viewer.JsOSData.prototype={identity:null,subString:null,string:null,__class__:com.wiris.plugin.viewer.JsOSData},com.wiris.plugin.viewer.JsBrowser=$hxClasses["com.wiris.plugin.viewer.JsBrowser"]=function(){this.dataBrowser=new Array,this.addBrowser("navigator.userAgent",null,"Chrome",null,"Chrome"),this.addBrowser("navigator.userAgent",null,"OmniWeb",null,"OmniWeb"),this.addBrowser("navigator.vendor",null,"Apple","Version","Safari"),this.addBrowser(null,"window.opera",null,"Version","Opera"),this.addBrowser("navigator.vendor",null,"iCab",null,"iCab"),this.addBrowser("navigator.vendor",null,"KDE",null,"Konkeror"),this.addBrowser("navigator.userAgent",null,"Firefox",null,"Firefox"),this.addBrowser("navigator.vendor",null,"Camino",null,"Camino"),this.addBrowser("navigator.userAgent",null,"Netscape",null,"Netscape"),this.addBrowser("navigator.userAgent",null,"MSIE","MSIE","Explorer"),this.addBrowser("navigator.userAgent",null,"Gecko","rv","Mozilla"),this.addBrowser("navigator.userAgent",null,"Mozilla","Mozilla","Netscape"),this.dataOS=new Array,this.addOS("navigator.platform","Win","Windows"),this.addOS("navigator.platform","Mac","Mac"),this.addOS("navigator.userAgent","iPhone","iOS"),this.addOS("navigator.userAgent","iPad","iOS"),this.addOS("navigator.userAgent","Android","Android"),this.addOS("navigator.platform","Linux","Linux"),this.setBrowser(),this.setOS()},com.wiris.plugin.viewer.JsBrowser.__name__=["com","wiris","plugin","viewer","JsBrowser"],com.wiris.plugin.viewer.JsBrowser.prototype={isAndroid:function(){return"Android"==this.os},isIOS:function(){return"iOS"==this.os},isFF:function(){return"Firefox"==this.browser},isChrome:function(){return"Chrome"==this.browser},isIE:function(){return"Explorer"==this.browser},getVersion:function(){return this.ver},getOS:function(){return this.os},getBrowser:function(){return this.browser},searchVersion:function(prop,search){var str=js.Boot.__cast(eval(prop),String),index=str.indexOf(search);return-1==index?null:""+Std.parseFloat(HxOverrides.substr(str,index+search.length+1,null))},setOS:function(){for(var i=HxOverrides.iter(this.dataOS);i.hasNext();){var s=i.next(),str=js.Boot.__cast(eval(s.string),String);if(-1!=str.indexOf(s.subString))return this.os=s.identity,void 0}},setBrowser:function(){for(var i=HxOverrides.iter(this.dataBrowser);i.hasNext();){var b=i.next();if(null!=b.string){var obj=eval(b.string);if(null!=obj){var str=js.Boot.__cast(obj,String);if(-1!=str.indexOf(b.subString))return this.browser=b.identity,this.ver=this.searchVersion("navigator.userAgent",b.versionSearch),null==this.ver&&(this.ver=this.searchVersion("navigator.appVersion",b.versionSearch)),void 0}}}},addOS:function(string,subString,identity){var s=new com.wiris.plugin.viewer.JsOSData;s.string=string,s.subString=subString,s.identity=identity,this.dataOS.push(s)},addBrowser:function(string,prop,subString,versionSearch,identity){var b=new com.wiris.plugin.viewer.JsBrowserData;b.string=string,b.prop=prop,b.subString=subString,b.versionSearch=null!=versionSearch?versionSearch:identity,b.identity=identity,this.dataBrowser.push(b)},os:null,ver:null,browser:null,dataOS:null,dataBrowser:null,__class__:com.wiris.plugin.viewer.JsBrowser};var haxe=haxe||{};haxe.Http=$hxClasses["haxe.Http"]=function(url){this.url=url,this.headers=new Hash,this.params=new Hash,this.async=!0},haxe.Http.__name__=["haxe","Http"],haxe.Http.requestUrl=function(url){var h=new haxe.Http(url);h.async=!1;var r=null;return h.onData=function(d){r=d},h.onError=function(e){throw e},h.request(!1),r},haxe.Http.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(post){var me=this,r=new js.XMLHttpRequest,onreadystatechange=function(){if(4==r.readyState){var s=function(){var $r;try{$r=r.status}catch(e){$r=null}return $r}(this);if(void 0==s&&(s=null),null!=s&&me.onStatus(s),null!=s&&s>=200&&400>s)me.onData(r.responseText);else switch(s){case null:case void 0:me.onError("Failed to connect or resolve host");break;case 12029:me.onError("Failed to connect to host");break;case 12007:me.onError("Unknown host");break;default:me.onError("Http Error #"+r.status)}}};this.async&&(r.onreadystatechange=onreadystatechange);var uri=this.postData;if(null!=uri)post=!0;else for(var $it0=this.params.keys();$it0.hasNext();){var p=$it0.next();null==uri?uri="":uri+="&",uri+=StringTools.urlEncode(p)+"="+StringTools.urlEncode(this.params.get(p))}try{if(post)r.open("POST",this.url,this.async);else if(null!=uri){var question=this.url.split("?").length<=1;r.open("GET",this.url+(question?"?":"&")+uri,this.async),uri=null}else r.open("GET",this.url,this.async)}catch(e){return this.onError(e.toString()),void 0}null==this.headers.get("Content-Type")&&post&&null==this.postData&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var $it1=this.headers.keys();$it1.hasNext();){var h=$it1.next();r.setRequestHeader(h,this.headers.get(h))}r.send(uri),this.async||onreadystatechange()},setPostData:function(data){this.postData=data},setParameter:function(param,value){this.params.set(param,value)},setHeader:function(header,value){this.headers.set(header,value)},params:null,headers:null,postData:null,async:null,url:null,__class__:haxe.Http},haxe.Log=$hxClasses["haxe.Log"]=function(){},haxe.Log.__name__=["haxe","Log"],haxe.Log.trace=function(v,infos){js.Boot.__trace(v,infos)},haxe.Log.clear=function(){js.Boot.__clear_trace()},haxe.Serializer=$hxClasses["haxe.Serializer"]=function(){this.buf=new StringBuf,this.cache=new Array,this.useCache=haxe.Serializer.USE_CACHE,this.useEnumIndex=haxe.Serializer.USE_ENUM_INDEX,this.shash=new Hash,this.scount=0},haxe.Serializer.__name__=["haxe","Serializer"],haxe.Serializer.run=function(v){var s=new haxe.Serializer;return s.serialize(v),s.toString()},haxe.Serializer.prototype={serializeException:function(e){this.buf.b+=Std.string("x"),this.serialize(e)},serialize:function(v){var $e=Type["typeof"](v);switch($e[1]){case 0:this.buf.b+=Std.string("n");break;case 1:if(0==v)return this.buf.b+=Std.string("z"),void 0;this.buf.b+=Std.string("i"),this.buf.b+=Std.string(v);break;case 2:Math.isNaN(v)?this.buf.b+=Std.string("k"):Math.isFinite(v)?(this.buf.b+=Std.string("d"),this.buf.b+=Std.string(v)):this.buf.b+=Std.string(0>v?"m":"p");break;case 3:this.buf.b+=Std.string(v?"t":"f");break;case 6:var c=$e[2];if(c==String)return this.serializeString(v),void 0;if(this.useCache&&this.serializeRef(v))return;switch(c){case Array:var ucount=0;this.buf.b+=Std.string("a");for(var l=v.length,_g=0;l>_g;){var i=_g++;null==v[i]?ucount++:(ucount>0&&(1==ucount?this.buf.b+=Std.string("n"):(this.buf.b+=Std.string("u"),this.buf.b+=Std.string(ucount)),ucount=0),this.serialize(v[i]))}ucount>0&&(1==ucount?this.buf.b+=Std.string("n"):(this.buf.b+=Std.string("u"),this.buf.b+=Std.string(ucount))),this.buf.b+=Std.string("h");break;case List:this.buf.b+=Std.string("l");for(var v1=v,$it0=v1.iterator();$it0.hasNext();){var i=$it0.next();this.serialize(i)}this.buf.b+=Std.string("h");break;case Date:var d=v;this.buf.b+=Std.string("v"),this.buf.b+=Std.string(HxOverrides.dateStr(d));break;case Hash:this.buf.b+=Std.string("b");for(var v1=v,$it1=v1.keys();$it1.hasNext();){var k=$it1.next();this.serializeString(k),this.serialize(v1.get(k))}this.buf.b+=Std.string("h");break;case IntHash:this.buf.b+=Std.string("q");for(var v1=v,$it2=v1.keys();$it2.hasNext();){var k=$it2.next();this.buf.b+=Std.string(":"),this.buf.b+=Std.string(k),this.serialize(v1.get(k))}this.buf.b+=Std.string("h");break;case haxe.io.Bytes:for(var v1=v,i=0,max=v1.length-2,charsBuf=new StringBuf,b64=haxe.Serializer.BASE64;max>i;){var b1=v1.b[i++],b2=v1.b[i++],b3=v1.b[i++];charsBuf.b+=Std.string(b64.charAt(b1>>2)),charsBuf.b+=Std.string(b64.charAt(63&(b1<<4|b2>>4))),charsBuf.b+=Std.string(b64.charAt(63&(b2<<2|b3>>6))),charsBuf.b+=Std.string(b64.charAt(63&b3))}if(i==max){var b1=v1.b[i++],b2=v1.b[i++];charsBuf.b+=Std.string(b64.charAt(b1>>2)),charsBuf.b+=Std.string(b64.charAt(63&(b1<<4|b2>>4))),charsBuf.b+=Std.string(b64.charAt(b2<<2&63))}else if(i==max+1){var b1=v1.b[i++];charsBuf.b+=Std.string(b64.charAt(b1>>2)),charsBuf.b+=Std.string(b64.charAt(b1<<4&63))}var chars=charsBuf.b;this.buf.b+=Std.string("s"),this.buf.b+=Std.string(chars.length),this.buf.b+=Std.string(":"),this.buf.b+=Std.string(chars);break;default:this.cache.pop(),null!=v.hxSerialize?(this.buf.b+=Std.string("C"),this.serializeString(Type.getClassName(c)),this.cache.push(v),v.hxSerialize(this),this.buf.b+=Std.string("g")):(this.buf.b+=Std.string("c"),this.serializeString(Type.getClassName(c)),this.cache.push(v),this.serializeFields(v))}break;case 4:if(this.useCache&&this.serializeRef(v))return;this.buf.b+=Std.string("o"),this.serializeFields(v);break;case 7:var e=$e[2];if(this.useCache&&this.serializeRef(v))return;this.cache.pop(),this.buf.b+=Std.string(this.useEnumIndex?"j":"w"),this.serializeString(Type.getEnumName(e)),this.useEnumIndex?(this.buf.b+=Std.string(":"),this.buf.b+=Std.string(v[1])):this.serializeString(v[0]),this.buf.b+=Std.string(":");var l=v.length;this.buf.b+=Std.string(l-2);for(var _g=2;l>_g;){var i=_g++;this.serialize(v[i])}this.cache.push(v);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+Std.string(v)}},serializeFields:function(v){for(var _g=0,_g1=Reflect.fields(v);_g<_g1.length;){var f=_g1[_g];++_g,this.serializeString(f),this.serialize(Reflect.field(v,f))}this.buf.b+=Std.string("g")},serializeRef:function(v){for(var vt=typeof v,_g1=0,_g=this.cache.length;_g>_g1;){var i=_g1++,ci=this.cache[i];if(typeof ci==vt&&ci==v)return this.buf.b+=Std.string("r"),this.buf.b+=Std.string(i),!0}return this.cache.push(v),!1},serializeString:function(s){var x=this.shash.get(s);return null!=x?(this.buf.b+=Std.string("R"),this.buf.b+=Std.string(x),void 0):(this.shash.set(s,this.scount++),this.buf.b+=Std.string("y"),s=StringTools.urlEncode(s),this.buf.b+=Std.string(s.length),this.buf.b+=Std.string(":"),this.buf.b+=Std.string(s),void 0)},toString:function(){return this.buf.b},useEnumIndex:null,useCache:null,scount:null,shash:null,cache:null,buf:null,__class__:haxe.Serializer},haxe.Timer=$hxClasses["haxe.Timer"]=function(time_ms){var me=this;this.id=window.setInterval(function(){me.run()},time_ms)},haxe.Timer.__name__=["haxe","Timer"],haxe.Timer.delay=function(f,time_ms){var t=new haxe.Timer(time_ms);return t.run=function(){t.stop(),f()},t},haxe.Timer.measure=function(f,pos){var t0=haxe.Timer.stamp(),r=f();return haxe.Log.trace(haxe.Timer.stamp()-t0+"s",pos),r},haxe.Timer.stamp=function(){return(new Date).getTime()/1e3},haxe.Timer.prototype={run:function(){},stop:function(){null!=this.id&&(window.clearInterval(this.id),this.id=null)},id:null,__class__:haxe.Timer},haxe.Unserializer=$hxClasses["haxe.Unserializer"]=function(buf){this.buf=buf,this.length=buf.length,this.pos=0,this.scache=new Array,this.cache=new Array;
var r=haxe.Unserializer.DEFAULT_RESOLVER;null==r&&(r=Type,haxe.Unserializer.DEFAULT_RESOLVER=r),this.setResolver(r)},haxe.Unserializer.__name__=["haxe","Unserializer"],haxe.Unserializer.initCodes=function(){for(var codes=new Array,_g1=0,_g=haxe.Unserializer.BASE64.length;_g>_g1;){var i=_g1++;codes[haxe.Unserializer.BASE64.charCodeAt(i)]=i}return codes},haxe.Unserializer.run=function(v){return new haxe.Unserializer(v).unserialize()},haxe.Unserializer.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var p1=this.pos;;){var c=this.buf.charCodeAt(this.pos);if(!(c>=43&&58>c||101==c||69==c))break;this.pos++}return Std.parseFloat(HxOverrides.substr(this.buf,p1,this.pos-p1));case 121:var len=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<len)throw"Invalid string length";var s=HxOverrides.substr(this.buf,this.pos,len);return this.pos+=len,s=StringTools.urlDecode(s),this.scache.push(s),s;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var buf=this.buf,a=new Array;for(this.cache.push(a);;){var c=this.buf.charCodeAt(this.pos);if(104==c){this.pos++;break}if(117==c){this.pos++;var n=this.readDigits();a[a.length+n-1]=null}else a.push(this.unserialize())}return a;case 111:var o={};return this.cache.push(o),this.unserializeObject(o),o;case 114:var n=this.readDigits();if(0>n||n>=this.cache.length)throw"Invalid reference";return this.cache[n];case 82:var n=this.readDigits();if(0>n||n>=this.scache.length)throw"Invalid string reference";return this.scache[n];case 120:throw this.unserialize();case 99:var name=this.unserialize(),cl=this.resolver.resolveClass(name);if(null==cl)throw"Class not found "+name;var o=Type.createEmptyInstance(cl);return this.cache.push(o),this.unserializeObject(o),o;case 119:var name=this.unserialize(),edecl=this.resolver.resolveEnum(name);if(null==edecl)throw"Enum not found "+name;var e=this.unserializeEnum(edecl,this.unserialize());return this.cache.push(e),e;case 106:var name=this.unserialize(),edecl=this.resolver.resolveEnum(name);if(null==edecl)throw"Enum not found "+name;this.pos++;var index=this.readDigits(),tag=Type.getEnumConstructs(edecl)[index];if(null==tag)throw"Unknown enum index "+name+"@"+index;var e=this.unserializeEnum(edecl,tag);return this.cache.push(e),e;case 108:var l=new List;this.cache.push(l);for(var buf=this.buf;104!=this.buf.charCodeAt(this.pos);)l.add(this.unserialize());return this.pos++,l;case 98:var h=new Hash;this.cache.push(h);for(var buf=this.buf;104!=this.buf.charCodeAt(this.pos);){var s=this.unserialize();h.set(s,this.unserialize())}return this.pos++,h;case 113:var h=new IntHash;this.cache.push(h);for(var buf=this.buf,c=this.buf.charCodeAt(this.pos++);58==c;){var i=this.readDigits();h.set(i,this.unserialize()),c=this.buf.charCodeAt(this.pos++)}if(104!=c)throw"Invalid IntHash format";return h;case 118:var d=HxOverrides.strDate(HxOverrides.substr(this.buf,this.pos,19));return this.cache.push(d),this.pos+=19,d;case 115:var len=this.readDigits(),buf=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<len)throw"Invalid bytes length";var codes=haxe.Unserializer.CODES;null==codes&&(codes=haxe.Unserializer.initCodes(),haxe.Unserializer.CODES=codes);for(var i=this.pos,rest=3&len,size=3*(len>>2)+(rest>=2?rest-1:0),max=i+(len-rest),bytes=haxe.io.Bytes.alloc(size),bpos=0;max>i;){var c1=codes[buf.charCodeAt(i++)],c2=codes[buf.charCodeAt(i++)];bytes.b[bpos++]=255&(c1<<2|c2>>4);var c3=codes[buf.charCodeAt(i++)];bytes.b[bpos++]=255&(c2<<4|c3>>2);var c4=codes[buf.charCodeAt(i++)];bytes.b[bpos++]=255&(c3<<6|c4)}if(rest>=2){var c1=codes[buf.charCodeAt(i++)],c2=codes[buf.charCodeAt(i++)];if(bytes.b[bpos++]=255&(c1<<2|c2>>4),3==rest){var c3=codes[buf.charCodeAt(i++)];bytes.b[bpos++]=255&(c2<<4|c3>>2)}}return this.pos+=len,this.cache.push(bytes),bytes;case 67:var name=this.unserialize(),cl=this.resolver.resolveClass(name);if(null==cl)throw"Class not found "+name;var o=Type.createEmptyInstance(cl);if(this.cache.push(o),o.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return o}throw this.pos--,"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos},unserializeEnum:function(edecl,tag){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var nargs=this.readDigits();if(0==nargs)return Type.createEnum(edecl,tag);for(var args=new Array;nargs-->0;)args.push(this.unserialize());return Type.createEnum(edecl,tag,args)},unserializeObject:function(o){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var k=this.unserialize();if(!js.Boot.__instanceof(k,String))throw"Invalid object key";var v=this.unserialize();o[k]=v}this.pos++},readDigits:function(){for(var k=0,s=!1,fpos=this.pos;;){var c=this.buf.charCodeAt(this.pos);if(c!=c)break;if(45!=c){if(48>c||c>57)break;k=10*k+(c-48),this.pos++}else{if(this.pos!=fpos)break;s=!0,this.pos++}}return s&&(k*=-1),k},get:function(p){return this.buf.charCodeAt(p)},getResolver:function(){return this.resolver},setResolver:function(r){this.resolver=null==r?{resolveClass:function(){return null},resolveEnum:function(){return null}}:r},resolver:null,scache:null,cache:null,length:null,pos:null,buf:null,__class__:haxe.Unserializer},haxe.io||(haxe.io={}),haxe.io.Bytes=$hxClasses["haxe.io.Bytes"]=function(length,b){this.length=length,this.b=b},haxe.io.Bytes.__name__=["haxe","io","Bytes"],haxe.io.Bytes.alloc=function(length){for(var a=new Array,_g=0;length>_g;){{_g++}a.push(0)}return new haxe.io.Bytes(length,a)},haxe.io.Bytes.ofString=function(s){for(var a=new Array,_g1=0,_g=s.length;_g>_g1;){var i=_g1++,c=s.charCodeAt(i);127>=c?a.push(c):2047>=c?(a.push(192|c>>6),a.push(128|63&c)):65535>=c?(a.push(224|c>>12),a.push(128|c>>6&63),a.push(128|63&c)):(a.push(240|c>>18),a.push(128|c>>12&63),a.push(128|c>>6&63),a.push(128|63&c))}return new haxe.io.Bytes(a.length,a)},haxe.io.Bytes.ofData=function(b){return new haxe.io.Bytes(b.length,b)},haxe.io.Bytes.prototype={getData:function(){return this.b},toHex:function(){for(var s=new StringBuf,chars=[],str="0123456789abcdef",_g1=0,_g=str.length;_g>_g1;){var i=_g1++;chars.push(HxOverrides.cca(str,i))}for(var _g1=0,_g=this.length;_g>_g1;){var i=_g1++,c=this.b[i];s.b+=String.fromCharCode(chars[c>>4]),s.b+=String.fromCharCode(chars[15&c])}return s.b},toString:function(){return this.readString(0,this.length)},readString:function(pos,len){if(0>pos||0>len||pos+len>this.length)throw haxe.io.Error.OutsideBounds;for(var s="",b=this.b,fcc=String.fromCharCode,i=pos,max=pos+len;max>i;){var c=b[i++];if(128>c){if(0==c)break;s+=fcc(c)}else if(224>c)s+=fcc((63&c)<<6|127&b[i++]);else if(240>c){var c2=b[i++];s+=fcc((31&c)<<12|(127&c2)<<6|127&b[i++])}else{var c2=b[i++],c3=b[i++];s+=fcc((15&c)<<18|(127&c2)<<12|c3<<6&127|127&b[i++])}}return s},compare:function(other){for(var b1=this.b,b2=other.b,len=this.length<other.length?this.length:other.length,_g=0;len>_g;){var i=_g++;if(b1[i]!=b2[i])return b1[i]-b2[i]}return this.length-other.length},sub:function(pos,len){if(0>pos||0>len||pos+len>this.length)throw haxe.io.Error.OutsideBounds;return new haxe.io.Bytes(len,this.b.slice(pos,pos+len))},blit:function(pos,src,srcpos,len){if(0>pos||0>srcpos||0>len||pos+len>this.length||srcpos+len>src.length)throw haxe.io.Error.OutsideBounds;var b1=this.b,b2=src.b;if(b1==b2&&pos>srcpos)for(var i=len;i>0;)i--,b1[i+pos]=b2[i+srcpos];else for(var _g=0;len>_g;){var i=_g++;b1[i+pos]=b2[i+srcpos]}},set:function(pos,v){this.b[pos]=255&v},get:function(pos){return this.b[pos]},b:null,length:null,__class__:haxe.io.Bytes},haxe.io.Error=$hxClasses["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]},haxe.io.Error.Blocked=["Blocked",0],haxe.io.Error.Blocked.toString=$estr,haxe.io.Error.Blocked.__enum__=haxe.io.Error,haxe.io.Error.Overflow=["Overflow",1],haxe.io.Error.Overflow.toString=$estr,haxe.io.Error.Overflow.__enum__=haxe.io.Error,haxe.io.Error.OutsideBounds=["OutsideBounds",2],haxe.io.Error.OutsideBounds.toString=$estr,haxe.io.Error.OutsideBounds.__enum__=haxe.io.Error,haxe.io.Error.Custom=function(e){var $x=["Custom",3,e];return $x.__enum__=haxe.io.Error,$x.toString=$estr,$x},haxe.remoting||(haxe.remoting={}),haxe.remoting.Connection=$hxClasses["haxe.remoting.Connection"]=function(){},haxe.remoting.Connection.__name__=["haxe","remoting","Connection"],haxe.remoting.Connection.prototype={call:null,resolve:null,__class__:haxe.remoting.Connection},haxe.remoting.Context=$hxClasses["haxe.remoting.Context"]=function(){this.objects=new Hash},haxe.remoting.Context.__name__=["haxe","remoting","Context"],haxe.remoting.Context.share=function(name,obj){var ctx=new haxe.remoting.Context;return ctx.addObject(name,obj),ctx},haxe.remoting.Context.prototype={call:function(path,params){if(path.length<2)throw"Invalid path '"+path.join(".")+"'";var inf=this.objects.get(path[0]);if(null==inf)throw"No such object "+path[0];var o=inf.obj,m=Reflect.field(o,path[1]);if(path.length>2){if(!inf.rec)throw"Can't access "+path.join(".");for(var _g1=2,_g=path.length;_g>_g1;){var i=_g1++;o=m,m=Reflect.field(o,path[i])}}if(!Reflect.isFunction(m))throw"No such method "+path.join(".");return m.apply(o,params)},addObject:function(name,obj,recursive){this.objects.set(name,{obj:obj,rec:recursive})},objects:null,__class__:haxe.remoting.Context},haxe.remoting.HttpConnection=$hxClasses["haxe.remoting.HttpConnection"]=function(url,path){this.__url=url,this.__path=path},haxe.remoting.HttpConnection.__name__=["haxe","remoting","HttpConnection"],haxe.remoting.HttpConnection.__interfaces__=[haxe.remoting.Connection],haxe.remoting.HttpConnection.urlConnect=function(url){return new haxe.remoting.HttpConnection(url,[])},haxe.remoting.HttpConnection.processRequest=function(requestData,ctx){try{var u=new haxe.Unserializer(requestData),path=u.unserialize(),args=u.unserialize(),data=ctx.call(path,args),s=new haxe.Serializer;return s.serialize(data),"hxr"+s.toString()}catch(e){var s=new haxe.Serializer;return s.serializeException(e),"hxr"+s.toString()}},haxe.remoting.HttpConnection.prototype={call:function(params){var data=null,h=new haxe.Http(this.__url);h.async=!1;var s=new haxe.Serializer;if(s.serialize(this.__path),s.serialize(params),h.setHeader("X-Haxe-Remoting","1"),h.setParameter("__x",s.toString()),h.onData=function(d){data=d},h.onError=function(e){throw e},h.request(!0),"hxr"!=HxOverrides.substr(data,0,3))throw"Invalid response : '"+data+"'";return data=HxOverrides.substr(data,3,null),new haxe.Unserializer(data).unserialize()},resolve:function(name){var c=new haxe.remoting.HttpConnection(this.__url,this.__path.slice());return c.__path.push(name),c},__path:null,__url:null,__class__:haxe.remoting.HttpConnection};var js=js||{};js.Boot=$hxClasses["js.Boot"]=function(){},js.Boot.__name__=["js","Boot"],js.Boot.__unhtml=function(s){return s.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},js.Boot.__trace=function(v,i){var msg=null!=i?i.fileName+":"+i.lineNumber+": ":"";msg+=js.Boot.__string_rec(v,"");var d;"undefined"!=typeof document&&null!=(d=document.getElementById("haxe:trace"))?d.innerHTML+=js.Boot.__unhtml(msg)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(msg)},js.Boot.__clear_trace=function(){var d=document.getElementById("haxe:trace");null!=d&&(d.innerHTML="")},js.Boot.isClass=function(o){return o.__name__},js.Boot.isEnum=function(e){return e.__ename__},js.Boot.getClass=function(o){return o.__class__},js.Boot.__string_rec=function(o,s){if(null==o)return"null";if(s.length>=5)return"<...>";var t=typeof o;switch("function"==t&&(o.__name__||o.__ename__)&&(t="object"),t){case"object":if(o instanceof Array){if(o.__enum__){if(2==o.length)return o[0];var str=o[0]+"(";s+="	";for(var _g1=2,_g=o.length;_g>_g1;){var i=_g1++;str+=2!=i?","+js.Boot.__string_rec(o[i],s):js.Boot.__string_rec(o[i],s)}return str+")"}var i,l=o.length,str="[";s+="	";for(var _g=0;l>_g;){var i1=_g++;str+=(i1>0?",":"")+js.Boot.__string_rec(o[i1],s)}return str+="]"}var tostr;try{tostr=o.toString}catch(e){return"???"}if(null!=tostr&&tostr!=Object.toString){var s2=o.toString();if("[object Object]"!=s2)return s2}var k=null,str="{\n";s+="	";var hasp=null!=o.hasOwnProperty;for(var k in o)(!hasp||o.hasOwnProperty(k))&&"prototype"!=k&&"__class__"!=k&&"__super__"!=k&&"__interfaces__"!=k&&"__properties__"!=k&&(2!=str.length&&(str+=", \n"),str+=s+k+" : "+js.Boot.__string_rec(o[k],s));return s=s.substring(1),str+="\n"+s+"}";case"function":return"<function>";case"string":return o;default:return String(o)}},js.Boot.__interfLoop=function(cc,cl){if(null==cc)return!1;if(cc==cl)return!0;var intf=cc.__interfaces__;if(null!=intf)for(var _g1=0,_g=intf.length;_g>_g1;){var i=_g1++,i1=intf[i];if(i1==cl||js.Boot.__interfLoop(i1,cl))return!0}return js.Boot.__interfLoop(cc.__super__,cl)},js.Boot.__instanceof=function(o,cl){try{if(o instanceof cl)return cl==Array?null==o.__enum__:!0;if(js.Boot.__interfLoop(o.__class__,cl))return!0}catch(e){if(null==cl)return!1}switch(cl){case Int:return Math.ceil(o%2147483648)===o;case Float:return"number"==typeof o;case Bool:return o===!0||o===!1;case String:return"string"==typeof o;case Dynamic:return!0;default:return null==o?!1:cl==Class&&null!=o.__name__?!0:cl==Enum&&null!=o.__ename__?!0:o.__enum__==cl}},js.Boot.__cast=function(o,t){if(js.Boot.__instanceof(o,t))return o;throw"Cannot cast "+Std.string(o)+" to "+Std.string(t)},js.Lib=$hxClasses["js.Lib"]=function(){},js.Lib.__name__=["js","Lib"],js.Lib.document=null,js.Lib.window=null,js.Lib.debug=function(){},js.Lib.alert=function(v){alert(js.Boot.__string_rec(v,""))},js.Lib.eval=function(code){return eval(code)},js.Lib.setErrorHandler=function(f){js.Lib.onerror=f};var $_;Array.prototype.indexOf&&(HxOverrides.remove=function(a,o){var i=a.indexOf(o);return-1==i?!1:(a.splice(i,1),!0)}),Math.__name__=["Math"],Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,$hxClasses.Math=Math,Math.isFinite=function(i){return isFinite(i)},Math.isNaN=function(i){return isNaN(i)},String.prototype.__class__=$hxClasses.String=String,String.__name__=["String"],Array.prototype.__class__=$hxClasses.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=$hxClasses.Date=Date,Date.__name__=["Date"];var Int=$hxClasses.Int={__name__:["Int"]},Dynamic=$hxClasses.Dynamic={__name__:["Dynamic"]},Float=$hxClasses.Float=Number;Float.__name__=["Float"];var Bool=$hxClasses.Bool=Boolean;Bool.__ename__=["Bool"];var Class=$hxClasses.Class={__name__:["Class"]},Enum={},Void=$hxClasses.Void={__ename__:["Void"]};"undefined"!=typeof document&&(js.Lib.document=document),"undefined"!=typeof window&&(js.Lib.window=window,js.Lib.window.onerror=function(msg,url,line){var f=js.Lib.onerror;return null==f?!1:f(msg,[url+":"+line])}),js.XMLHttpRequest=window.XMLHttpRequest?XMLHttpRequest:window.ActiveXObject?function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e1){throw"Unable to create XMLHttpRequest object."}}}:function(){throw"Unable to create XMLHttpRequest object."}(this),com.wiris.plugin.viewer.EditorViewer.USE_CREATE_IMAGE=1,com.wiris.plugin.viewer.EditorViewer.DEBUG=!1,haxe.Serializer.USE_CACHE=!1,haxe.Serializer.USE_ENUM_INDEX=!1,haxe.Serializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe.Unserializer.DEFAULT_RESOLVER=Type,haxe.Unserializer.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",haxe.Unserializer.CODES=null,haxe.remoting.HttpConnection.TIMEOUT=10,js.Lib.onerror=null,com.wiris.plugin.viewer.EditorViewer.main();