"use strict";function SourceMap(options){function add(source,gen_line,gen_col,orig_line,orig_col,name){if(orig_map){var info=orig_map.originalPositionFor({line:orig_line,column:orig_col});source=info.source,orig_line=info.line,orig_col=info.column,name=info.name}generator.addMapping({generated:{line:gen_line,column:gen_col},original:{line:orig_line,column:orig_col},source:source,name:name})}options=defaults(options,{file:null,root:null,orig:null});var generator=new MOZ_SourceMap.SourceMapGenerator({file:options.file,sourceRoot:options.root}),orig_map=options.orig&&new MOZ_SourceMap.SourceMapConsumer(options.orig);return{add:add,get:function(){return generator},toString:function(){return generator.toString()}}}